import numpy as np
#常量
cit = np.array([[[5, 5, 5],
                        [6, 6, 6],
                        [7, 7, 7],
                        [7, 7, 7],
                        [4, 4, 4],
                        [5, 5, 5],
                        [5, 5, 5],
                        [7, 7, 7],
                        [6, 6, 6]],

                      [[5, 5, 5],
                        [6, 6, 6],
                        [7, 7, 7],
                        [7, 7, 7],
                        [4, 4, 4],
                        [5, 5, 5],
                        [5, 5, 5],
                        [7, 7, 7],
                        [6, 6, 6]],

                      [[5, 5, 5],
                        [6, 6, 6],
                        [7, 7, 7],
                        [7, 7, 7],
                        [4, 4, 4],
                        [5, 5, 5],
                        [5, 5, 5],
                        [7, 7, 7],
                        [6, 6, 6]]
                      ])
    
t_ij = np.array([[15, 10, 28],
                            [33, 16, 24],
                            [40, 24, 29],
                            [35, 30, 25],
                            [21, 15, 12],
                            [16, 21, 19],
                            [13, 23, 24],
                            [18, 29, 22],
                            [24, 35, 29]])

#有三类，每一类有三不足储备点
consfjk = np.array([[101, 121, 91],
                        [13, 15, 19],
                        [8, 5, 6]])

excessConfig = np.array([[81, 51, 81, 61, 91, 46, 66, 71, 61],
                          [5, 4, 9, 7, 6, 6, 9, 7, 4],
                          [7, 3, 4, 3, 3, 3, 4, 5, 4]])

excessDemand =np.array([[1, 1, 1, 1, 1, 1, 1, 1, 1],
                          [1, 1, 1, 1, 1, 1, 1, 1, 1],
                          [1, 1, 1, 1, 1, 1, 1, 1, 1]])

Q = excessConfig-excessDemand
#变量
x_ij = np.zeros_like(cit)
xlb = np.zeros_like(cit)
#xub = np.array([[list(consfjk[0])]*9,[list(consfjk[1])]*9,[list(consfjk[2])]*9])
#xub = np.array([[[80, 80,  80],
#        [50, 50,  50],
#        [80, 80,  80],
#        [60, 60,  60],
#        [90, 90,  90],
#        [45, 45,  45],
#        [65, 65,  65],
#        [70, 70,  70],
#        [60, 60,  90]],
#
#       [[ 4,  4,  4],
#        [ 3,  3,  3],
#        [ 8,  8,  8],
#        [ 6,  6,  6],
#        [ 5,  5,  5],
#        [ 5,  5,  5],
#        [ 8,  8,  8],
#        [ 6,  6,  6],
#        [ 3,  3,  3]],
#
#       [[  6,  6,  6],
#        [  2,   2,   2],
#        [ 3,  3,  3],
#        [ 2,   2,   2],
#        [  2,   2,   2],
#        [ 2,   2,   2],
#        [ 3,  3,  3],
#        [  4,  4,  4],
#        [  3,  3,  3]]])
xlb = np.array([[[0, 29, 0],
        [0, 19, 0],
        [0, 19, 0],
        [0, 0, 0],
        [0, 0, 0],
        [0, 0, 0],
        [0, 0, 0],
        [0, 0, 0],
        [0, 0, 0]],

       [[2, 1, 1],
        [1, 1, 1],
        [3, 1, 3],
        [1, 1, 3],
        [1, 1, 2],
        [1, 1, 2.1],
        [1, 1, 3],
        [1, 1, 2],
        [0, 1, 2]],

       [[0, 0, 0],
        [0, 0, 0],
        [0, 0, 0],
        [0, 0, 0],
        [0, 0, 0],
        [0, 0, 0],
        [0, 0, 0],
        [0, 0, 0],
        [0, 0, 0]],
        
#        [[0, 0, 0],
#        [0, 0, 0],
#        [0, 0, 0]]
       
       ])
#xlb[0].extend(xlb[1])
#xlb[0].extend(xlb[2])
#xlb[0].extend(xlb[3])
#xlb =  np.array(xlb[0])

xub = np.array([[[30, 30,  20],
        [30, 20,  10],
        [30, 20,  30],
        [20, 20,  20],
        [30, 30,  30],
        [15, 15,  15],
        [20, 20,  25],
        [30, 30,  10],
        [20, 20,  20]],

       [[ 2.1, 1.1,  1.1],
        [ 1.1, 1.1,  1.1],
        [3.1, 3.1,  3.1],
        [ 2, 2,  3.1],
        [ 2, 2,  2.1],
        [ 2, 2,  3.1],
        [ 3, 3,  3.1],
        [ 2, 2,  2.1],
        [ 1, 1.1,  2.1]],

       [[2, 2,  2],
        [1, 1,  0.1],
        [2, 1,  1],
        [1, 1, 0.1],
        [1, 1, 0.1],
        [1, 1, 0.1],
        [1, 1, 1],
        [2, 1, 1],
        [1, 1, 1]],
        
#        [[0.1, 0.1, 0.1],
#        [0.1, 0.1, 0.1],
#        [0.1, 0.1, 0.1]]
        
        ])
#xub[0].extend(xub[1])
#xub[0].extend(xub[2])
#xub[0].extend(xub[3])
#xub =  np.array(xub[0])

cri = np.array([[8, 12, 14, 11, 14, 13, 15, 16, 14],
                        [26, 23, 30, 28, 35, 27, 28, 24, 22],
                        [40, 38, 31, 28, 29, 36, 38, 27, 28]])
cri = np.array([[ta]*3 for ta in cri.flatten()]).flatten()
crj = np.array([[17, 9, 11],
                        [34, 28, 29],
                        [34, 29, 35]])
crj= np.array([[[17, 9, 11]]*9,[[34, 28, 29]]*9,[[34, 29, 35]]*9]).flatten()

cis = np.array([250, 300, 280, 420, 400, 380, 300, 440, 320])

tik = np.array([[0.3, 0.5, 0.5, 0.6, 0.4, 0.5, 0.6, 0.3, 0.5],
                      [4, 4, 3, 5, 3, 4, 4, 6, 5],
                          [7, 8, 6, 6, 8, 9, 5, 5, 5]])
tik = np.array([[ti]*3 for ti in tik.flatten()]).flatten()